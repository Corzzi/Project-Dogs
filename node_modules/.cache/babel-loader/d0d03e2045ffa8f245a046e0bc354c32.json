{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{USER_POST}from\"../../api\";import useForm from\"../../Hooks/useForm\";import Button from\"../Form/Button\";import Input from\"../Form/Input\";import{UserContext}from\"../../UserContext\";import useFetch from\"../../Hooks/useFetch\";import Error from\"../../Helper/Error\";import Head from\"../../Helper/Head\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginRegister=function LoginRegister(){var username=useForm();var email=useForm(\"email\");var password=useForm(\"password\");var _React$useContext=React.useContext(UserContext),loginUser=_React$useContext.loginUser;var _useFetch=useFetch(),request=_useFetch.request,loading=_useFetch.loading,error=_useFetch.error;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _USER_POST,url,options,_yield$request,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_USER_POST=USER_POST({username:username.value,email:email.value,password:password.value}),url=_USER_POST.url,options=_USER_POST.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;response=_yield$request.response;if(response.ok)loginUser(username.value,password.value);case 7:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"section\",{className:\"animeLeft\",children:[/*#__PURE__*/_jsx(Head,{title:\"Crie sua conta\",description:\"P\\xE1gina para registrar usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Cadastre-se\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Usu\\xE1rio\",type:\"text\",name:\"username\"},username)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Email\",type:\"email\",name:\"email\"},email)),/*#__PURE__*/_jsx(Input,_objectSpread({label:\"Password\",type:\"password\",name:\"password\"},password)),error&&/*#__PURE__*/_jsx(Error,{error:error}),loading?/*#__PURE__*/_jsx(Button,{disabled:true,children:\"Carregando...\"}):/*#__PURE__*/_jsx(Button,{children:\"Cadastrar\"})]})]});};export default LoginRegister;","map":{"version":3,"names":["React","USER_POST","useForm","Button","Input","UserContext","useFetch","Error","Head","LoginRegister","username","email","password","useContext","loginUser","request","loading","error","handleSubmit","event","preventDefault","value","url","options","response","ok"],"sources":["C:/Users/gabri/Desktop/dogs-project/src/Components/Login/LoginRegister.js"],"sourcesContent":["import React from \"react\";\r\nimport { USER_POST } from \"../../api\";\r\nimport useForm from \"../../Hooks/useForm\";\r\nimport Button from \"../Form/Button\";\r\nimport Input from \"../Form/Input\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport Error from \"../../Helper/Error\";\r\nimport Head from \"../../Helper/Head\";\r\n\r\nconst LoginRegister = () => {\r\n  const username = useForm();\r\n  const email = useForm(\"email\");\r\n  const password = useForm(\"password\");\r\n\r\n  const { loginUser } = React.useContext(UserContext);\r\n  const { request, loading, error } = useFetch();\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    const { url, options } = USER_POST({\r\n      username: username.value,\r\n      email: email.value,\r\n      password: password.value,\r\n    });\r\n    const { response } = await request(url, options);\r\n    if (response.ok) loginUser(username.value, password.value);\r\n  }\r\n\r\n  return (\r\n    <section className=\"animeLeft\">\r\n      <Head\r\n        title=\"Crie sua conta\"\r\n        description={`Página para registrar usuário`}\r\n      />\r\n      <h1 className=\"title\">Cadastre-se</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <Input label=\"Usuário\" type=\"text\" name=\"username\" {...username} />\r\n        <Input label=\"Email\" type=\"email\" name=\"email\" {...email} />\r\n        <Input label=\"Password\" type=\"password\" name=\"password\" {...password} />\r\n        {error && <Error error={error} />}\r\n        {loading ? (\r\n          <Button disabled>Carregando...</Button>\r\n        ) : (\r\n          <Button>Cadastrar</Button>\r\n        )}\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default LoginRegister;\r\n"],"mappings":"0XAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,WAA1B,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,MAAOC,OAAP,KAAmB,gBAAnB,CACA,MAAOC,MAAP,KAAkB,eAAlB,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,KAAP,KAAiB,mBAAjB,C,wFAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAMC,SAAQ,CAAGR,OAAO,EAAxB,CACA,GAAMS,MAAK,CAAGT,OAAO,CAAC,OAAD,CAArB,CACA,GAAMU,SAAQ,CAAGV,OAAO,CAAC,UAAD,CAAxB,CAEA,sBAAsBF,KAAK,CAACa,UAAN,CAAiBR,WAAjB,CAAtB,CAAQS,SAAR,mBAAQA,SAAR,CACA,cAAoCR,QAAQ,EAA5C,CAAQS,OAAR,WAAQA,OAAR,CAAiBC,OAAjB,WAAiBA,OAAjB,CAA0BC,KAA1B,WAA0BA,KAA1B,CAN0B,QAQXC,aARW,kJAQ1B,iBAA4BC,KAA5B,uKACEA,KAAK,CAACC,cAAN,GADF,WAE2BnB,SAAS,CAAC,CACjCS,QAAQ,CAAEA,QAAQ,CAACW,KADc,CAEjCV,KAAK,CAAEA,KAAK,CAACU,KAFoB,CAGjCT,QAAQ,CAAEA,QAAQ,CAACS,KAHc,CAAD,CAFpC,CAEUC,GAFV,YAEUA,GAFV,CAEeC,OAFf,YAEeA,OAFf,uBAO6BR,QAAO,CAACO,GAAD,CAAMC,OAAN,CAPpC,qCAOUC,QAPV,gBAOUA,QAPV,CAQE,GAAIA,QAAQ,CAACC,EAAb,CAAiBX,SAAS,CAACJ,QAAQ,CAACW,KAAV,CAAiBT,QAAQ,CAACS,KAA1B,CAAT,CARnB,sDAR0B,+CAmB1B,mBACE,iBAAS,SAAS,CAAC,WAAnB,wBACE,KAAC,IAAD,EACE,KAAK,CAAC,gBADR,CAEE,WAAW,sCAFb,EADF,cAKE,WAAI,SAAS,CAAC,OAAd,yBALF,cAME,cAAM,QAAQ,CAAEH,YAAhB,wBACE,KAAC,KAAD,gBAAO,KAAK,CAAC,YAAb,CAAuB,IAAI,CAAC,MAA5B,CAAmC,IAAI,CAAC,UAAxC,EAAuDR,QAAvD,EADF,cAEE,KAAC,KAAD,gBAAO,KAAK,CAAC,OAAb,CAAqB,IAAI,CAAC,OAA1B,CAAkC,IAAI,CAAC,OAAvC,EAAmDC,KAAnD,EAFF,cAGE,KAAC,KAAD,gBAAO,KAAK,CAAC,UAAb,CAAwB,IAAI,CAAC,UAA7B,CAAwC,IAAI,CAAC,UAA7C,EAA4DC,QAA5D,EAHF,CAIGK,KAAK,eAAI,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EAJZ,CAKGD,OAAO,cACN,KAAC,MAAD,EAAQ,QAAQ,KAAhB,2BADM,cAGN,KAAC,MAAD,wBARJ,GANF,GADF,CAoBD,CAvCD,CAyCA,cAAeP,cAAf"},"metadata":{},"sourceType":"module"}
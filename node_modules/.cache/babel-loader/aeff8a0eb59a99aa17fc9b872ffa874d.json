{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";var useFetch=function useFetch(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),error=_React$useState6[0],setError=_React$useState6[1];var request=React.useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,options){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(null);setLoading(true);_context.next=5;return fetch(url,options);case 5:response=_context.sent;_context.next=8;return response.json();case 8:json=_context.sent;if(response.ok){_context.next=11;break;}throw new Error(json.message);case 11:_context.next=18;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);json=null;setError(_context.t0.message);console.log(_context.t0.message);case 18:_context.prev=18;setLoading(false);setData(json);return _context.abrupt(\"return\",{response:response,json:json});case 23:case\"end\":return _context.stop();}}},_callee,null,[[0,13,18,23]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return{request:request,data:data,loading:loading,error:error};};export default useFetch;","map":{"version":3,"names":["React","useFetch","useState","data","setData","loading","setLoading","error","setError","request","useCallback","url","options","fetch","response","json","ok","Error","message","console","log"],"sources":["C:/Users/gabri/Desktop/dogs-project/src/Hooks/useFetch.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst useFetch = () => {\r\n  const [data, setData] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(null);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const request = React.useCallback(async (url, options) => {\r\n    let response;\r\n    let json;\r\n    try {\r\n      setError(null);\r\n      setLoading(true);\r\n      response = await fetch(url, options);\r\n      json = await response.json();\r\n      if (!response.ok) throw new Error(json.message);\r\n    } catch (err) {\r\n      json = null;\r\n      setError(err.message);\r\n      console.log(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n      setData(json);\r\n      return { response, json };\r\n    }\r\n  }, []);\r\n\r\n  return { request, data, loading, error };\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":"2XAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,oBAAwBD,KAAK,CAACE,QAAN,CAAe,IAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA8BJ,KAAK,CAACE,QAAN,CAAe,IAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBACA,qBAA0BN,KAAK,CAACE,QAAN,CAAe,IAAf,CAA1B,qDAAOK,KAAP,qBAAcC,QAAd,qBAEA,GAAMC,QAAO,CAAGT,KAAK,CAACU,WAAN,4FAAkB,iBAAOC,GAAP,CAAYC,OAAZ,sJAI9BJ,QAAQ,CAAC,IAAD,CAAR,CACAF,UAAU,CAAC,IAAD,CAAV,CAL8B,sBAMbO,MAAK,CAACF,GAAD,CAAMC,OAAN,CANQ,QAM9BE,QAN8B,qCAOjBA,SAAQ,CAACC,IAAT,EAPiB,QAO9BA,IAP8B,kBAQzBD,QAAQ,CAACE,EARgB,+BAQN,IAAIC,MAAJ,CAAUF,IAAI,CAACG,OAAf,CARM,0FAU9BH,IAAI,CAAG,IAAP,CACAP,QAAQ,CAAC,YAAIU,OAAL,CAAR,CACAC,OAAO,CAACC,GAAR,CAAY,YAAIF,OAAhB,EAZ8B,yBAc9BZ,UAAU,CAAC,KAAD,CAAV,CACAF,OAAO,CAACW,IAAD,CAAP,CAf8B,gCAgBvB,CAAED,QAAQ,CAARA,QAAF,CAAYC,IAAI,CAAJA,IAAZ,CAhBuB,6EAAlB,mEAkBb,EAlBa,CAAhB,CAoBA,MAAO,CAAEN,OAAO,CAAPA,OAAF,CAAWN,IAAI,CAAJA,IAAX,CAAiBE,OAAO,CAAPA,OAAjB,CAA0BE,KAAK,CAALA,KAA1B,CAAP,CACD,CA1BD,CA4BA,cAAeN,SAAf"},"metadata":{},"sourceType":"module"}
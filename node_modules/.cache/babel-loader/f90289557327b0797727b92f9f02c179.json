{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import styles from\"./PhotoDelete.module.css\";import useFetch from\"../../Hooks/useFetch\";import{DELETE_PHOTO}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PhotoDelete=function PhotoDelete(_ref){var id=_ref.id;var _useFetch=useFetch(),loading=_useFetch.loading,request=_useFetch.request;function handleClick(){return _handleClick.apply(this,arguments);}function _handleClick(){_handleClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var confirm,token,_DELETE_PHOTO,url,options,_yield$request,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:confirm=window.confirm(\"Deseja realmente deletar a publicação\");if(!confirm){_context.next=9;break;}token=window.localStorage.getItem(\"token\");_DELETE_PHOTO=DELETE_PHOTO(id,token),url=_DELETE_PHOTO.url,options=_DELETE_PHOTO.options;_context.next=6;return request(url,options);case 6:_yield$request=_context.sent;response=_yield$request.response;if(response.ok)window.location.reload();case 9:case\"end\":return _context.stop();}}},_callee);}));return _handleClick.apply(this,arguments);}return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(\"button\",{className:styles.delete,disabled:true,children:\"Deletando...\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:styles.delete,children:\"Deletar\"})});};export default PhotoDelete;","map":{"version":3,"names":["React","styles","useFetch","DELETE_PHOTO","PhotoDelete","id","loading","request","handleClick","confirm","window","token","localStorage","getItem","url","options","response","ok","location","reload","delete"],"sources":["C:/Users/gabri/Desktop/dogs-project/src/Components/Photo/PhotoDelete.js"],"sourcesContent":["import React from \"react\";\r\nimport styles from \"./PhotoDelete.module.css\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport { DELETE_PHOTO } from \"../../api\";\r\n\r\nconst PhotoDelete = ({ id }) => {\r\n  const { loading, request } = useFetch();\r\n\r\n  async function handleClick() {\r\n    const confirm = window.confirm(\"Deseja realmente deletar a publicação\");\r\n\r\n    if (confirm) {\r\n      const token = window.localStorage.getItem(\"token\");\r\n      const { url, options } = DELETE_PHOTO(id, token);\r\n      const { response } = await request(url, options);\r\n      if (response.ok) window.location.reload();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <button className={styles.delete} disabled>\r\n          Deletando...\r\n        </button>\r\n      ) : (\r\n        <button onClick={handleClick} className={styles.delete}>\r\n          Deletar\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PhotoDelete;\r\n"],"mappings":"kQAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,0BAAnB,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,OAASC,YAAT,KAA6B,WAA7B,C,gGAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAY,IAATC,GAAS,MAATA,EAAS,CAC9B,cAA6BH,QAAQ,EAArC,CAAQI,OAAR,WAAQA,OAAR,CAAiBC,OAAjB,WAAiBA,OAAjB,CAD8B,QAGfC,YAHe,6IAG9B,yMACQC,OADR,CACkBC,MAAM,CAACD,OAAP,CAAe,uCAAf,CADlB,KAGMA,OAHN,yBAIUE,KAJV,CAIkBD,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAJlB,eAK6BV,YAAY,CAACE,EAAD,CAAKM,KAAL,CALzC,CAKYG,GALZ,eAKYA,GALZ,CAKiBC,OALjB,eAKiBA,OALjB,uBAM+BR,QAAO,CAACO,GAAD,CAAMC,OAAN,CANtC,qCAMYC,QANZ,gBAMYA,QANZ,CAOI,GAAIA,QAAQ,CAACC,EAAb,CAAiBP,MAAM,CAACQ,QAAP,CAAgBC,MAAhB,GAPrB,sDAH8B,8CAc9B,mBACE,yBACGb,OAAO,cACN,eAAQ,SAAS,CAAEL,MAAM,CAACmB,MAA1B,CAAkC,QAAQ,KAA1C,0BADM,cAKN,eAAQ,OAAO,CAAEZ,WAAjB,CAA8B,SAAS,CAAEP,MAAM,CAACmB,MAAhD,qBANJ,EADF,CAaD,CA3BD,CA6BA,cAAehB,YAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from\"react\";import{GET_PHOTOS}from\"../../api\";import Error from\"../../Helper/Error\";import Loading from\"../../Helper/Loading\";import useFetch from\"../../Hooks/useFetch\";import FeedPhotosItem from\"./FeedPhotosItem\";import styles from\"./FeedPhotos.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var FeedPhotos=function FeedPhotos(_ref){var page=_ref.page,user=_ref.user,setModalPhoto=_ref.setModalPhoto,setInfinite=_ref.setInfinite;var _useFetch=useFetch(),data=_useFetch.data,loading=_useFetch.loading,error=_useFetch.error,request=_useFetch.request;React.useEffect(function(){function getPhotos(){return _getPhotos.apply(this,arguments);}function _getPhotos(){_getPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var total,_GET_PHOTOS,url,options,_yield$request,response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:total=9;_GET_PHOTOS=GET_PHOTOS({page:page,total:total,user:user}),url=_GET_PHOTOS.url,options=_GET_PHOTOS.options;_context.next=4;return request(url,options);case 4:_yield$request=_context.sent;response=_yield$request.response;json=_yield$request.json;if(response&&response.ok&&json.length<total)setInfinite(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return _getPhotos.apply(this,arguments);}getPhotos();},[request,user,page,setInfinite]);if(error)return/*#__PURE__*/_jsx(Error,{error:error});if(loading)return/*#__PURE__*/_jsx(Loading,{});if(data)return/*#__PURE__*/_jsx(\"ul\",{className:\"animeLeft \".concat(styles.feed),children:data.map(function(photo){return/*#__PURE__*/_jsx(FeedPhotosItem,{setModalPhoto:setModalPhoto,photo:photo},photo.id);})});else return null;};export default FeedPhotos;","map":{"version":3,"names":["React","GET_PHOTOS","Error","Loading","useFetch","FeedPhotosItem","styles","FeedPhotos","page","user","setModalPhoto","setInfinite","data","loading","error","request","useEffect","getPhotos","total","url","options","response","json","ok","length","feed","map","photo","id"],"sources":["C:/Users/gabri/Desktop/dogs-project/src/Components/Feed/FeedPhotos.js"],"sourcesContent":["import React from \"react\";\r\nimport { GET_PHOTOS } from \"../../api\";\r\nimport Error from \"../../Helper/Error\";\r\nimport Loading from \"../../Helper/Loading\";\r\nimport useFetch from \"../../Hooks/useFetch\";\r\nimport FeedPhotosItem from \"./FeedPhotosItem\";\r\nimport styles from \"./FeedPhotos.module.css\";\r\n\r\nconst FeedPhotos = ({ page, user, setModalPhoto, setInfinite }) => {\r\n  const { data, loading, error, request } = useFetch();\r\n\r\n  React.useEffect(() => {\r\n    async function getPhotos() {\r\n      const total = 9;\r\n      const { url, options } = GET_PHOTOS({ page, total, user });\r\n      const { response, json } = await request(url, options);\r\n      if (response && response.ok && json.length < total) setInfinite(false);\r\n    }\r\n    getPhotos();\r\n  }, [request, user, page, setInfinite]);\r\n\r\n  if (error) return <Error error={error} />;\r\n  if (loading) return <Loading />;\r\n  if (data)\r\n    return (\r\n      <ul className={`animeLeft ${styles.feed}`}>\r\n        {data.map((photo) => (\r\n          <FeedPhotosItem\r\n            setModalPhoto={setModalPhoto}\r\n            key={photo.id}\r\n            photo={photo}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  else return null;\r\n};\r\n\r\nexport default FeedPhotos;\r\n"],"mappings":"kQAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,WAA3B,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,MAAOC,SAAP,KAAqB,sBAArB,CACA,MAAOC,eAAP,KAA2B,kBAA3B,CACA,MAAOC,OAAP,KAAmB,yBAAnB,C,2CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAgD,IAA7CC,KAA6C,MAA7CA,IAA6C,CAAvCC,IAAuC,MAAvCA,IAAuC,CAAjCC,aAAiC,MAAjCA,aAAiC,CAAlBC,WAAkB,MAAlBA,WAAkB,CACjE,cAA0CP,QAAQ,EAAlD,CAAQQ,IAAR,WAAQA,IAAR,CAAcC,OAAd,WAAcA,OAAd,CAAuBC,KAAvB,WAAuBA,KAAvB,CAA8BC,OAA9B,WAA8BA,OAA9B,CAEAf,KAAK,CAACgB,SAAN,CAAgB,UAAM,SACLC,UADK,uIACpB,oMACQC,KADR,CACgB,CADhB,aAE2BjB,UAAU,CAAC,CAAEO,IAAI,CAAJA,IAAF,CAAQU,KAAK,CAALA,KAAR,CAAeT,IAAI,CAAJA,IAAf,CAAD,CAFrC,CAEUU,GAFV,aAEUA,GAFV,CAEeC,OAFf,aAEeA,OAFf,uBAGmCL,QAAO,CAACI,GAAD,CAAMC,OAAN,CAH1C,qCAGUC,QAHV,gBAGUA,QAHV,CAGoBC,IAHpB,gBAGoBA,IAHpB,CAIE,GAAID,QAAQ,EAAIA,QAAQ,CAACE,EAArB,EAA2BD,IAAI,CAACE,MAAL,CAAcN,KAA7C,CAAoDP,WAAW,CAAC,KAAD,CAAX,CAJtD,sDADoB,4CAOpBM,SAAS,GACV,CARD,CAQG,CAACF,OAAD,CAAUN,IAAV,CAAgBD,IAAhB,CAAsBG,WAAtB,CARH,EAUA,GAAIG,KAAJ,CAAW,mBAAO,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EAAP,CACX,GAAID,OAAJ,CAAa,mBAAO,KAAC,OAAD,IAAP,CACb,GAAID,IAAJ,CACE,mBACE,WAAI,SAAS,qBAAeN,MAAM,CAACmB,IAAtB,CAAb,UACGb,IAAI,CAACc,GAAL,CAAS,SAACC,KAAD,qBACR,KAAC,cAAD,EACE,aAAa,CAAEjB,aADjB,CAGE,KAAK,CAAEiB,KAHT,EAEOA,KAAK,CAACC,EAFb,CADQ,EAAT,CADH,EADF,CADF,IAYK,OAAO,KAAP,CACN,CA5BD,CA8BA,cAAerB,WAAf"},"metadata":{},"sourceType":"module"}
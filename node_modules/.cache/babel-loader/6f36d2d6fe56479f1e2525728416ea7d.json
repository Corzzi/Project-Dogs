{"ast":null,"code":"import _slicedToArray from\"C:/Users/gabri/Desktop/dogs-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{UserContext}from\"../../UserContext\";import PhotoCommentsForm from\"./PhotoCommentsForm\";import styles from\"./PhotoComments.module.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PhotoComments=function PhotoComments(props){var _React$useState=React.useState(function(){return props.comments;}),_React$useState2=_slicedToArray(_React$useState,2),comments=_React$useState2[0],setComments=_React$useState2[1];var _React$useContext=React.useContext(UserContext),login=_React$useContext.login;var commentsSection=React.useRef(null);React.useEffect(function(){commentsSection.current.scrollTop=commentsSection.current.scrollHeight;},[comments]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{ref:commentsSection,className:\"\".concat(styles.comments,\" \").concat(props.single?styles.single:\"\"),children:comments.map(function(comment){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"b\",{children:[comment.comment_author,\": \"]}),/*#__PURE__*/_jsx(\"span\",{children:comment.comment_content})]},comment.comment_ID);})}),login&&/*#__PURE__*/_jsx(PhotoCommentsForm,{single:props.single,id:props.id,setComments:setComments})]});};export default PhotoComments;","map":{"version":3,"names":["React","UserContext","PhotoCommentsForm","styles","PhotoComments","props","useState","comments","setComments","useContext","login","commentsSection","useRef","useEffect","current","scrollTop","scrollHeight","single","map","comment","comment_author","comment_content","comment_ID","id"],"sources":["C:/Users/gabri/Desktop/dogs-project/src/Components/Photo/PhotoComments.js"],"sourcesContent":["import React from \"react\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport PhotoCommentsForm from \"./PhotoCommentsForm\";\r\nimport styles from \"./PhotoComments.module.css\";\r\n\r\nconst PhotoComments = (props) => {\r\n  const [comments, setComments] = React.useState(() => props.comments);\r\n  const { login } = React.useContext(UserContext);\r\n  const commentsSection = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    commentsSection.current.scrollTop = commentsSection.current.scrollHeight;\r\n  }, [comments]);\r\n\r\n  return (\r\n    <>\r\n      <ul\r\n        ref={commentsSection}\r\n        className={`${styles.comments} ${props.single ? styles.single : \"\"}`}\r\n      >\r\n        {comments.map((comment) => {\r\n          return (\r\n            <li key={comment.comment_ID}>\r\n              <b>{comment.comment_author}: </b>\r\n              <span>{comment.comment_content}</span>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      {login && (\r\n        <PhotoCommentsForm\r\n          single={props.single}\r\n          id={props.id}\r\n          setComments={setComments}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PhotoComments;\r\n"],"mappings":"yHAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,kBAAP,KAA8B,qBAA9B,CACA,MAAOC,OAAP,KAAmB,4BAAnB,C,6IAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC/B,oBAAgCL,KAAK,CAACM,QAAN,CAAe,iBAAMD,MAAK,CAACE,QAAZ,EAAf,CAAhC,oDAAOA,QAAP,qBAAiBC,WAAjB,qBACA,sBAAkBR,KAAK,CAACS,UAAN,CAAiBR,WAAjB,CAAlB,CAAQS,KAAR,mBAAQA,KAAR,CACA,GAAMC,gBAAe,CAAGX,KAAK,CAACY,MAAN,CAAa,IAAb,CAAxB,CAEAZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CACpBF,eAAe,CAACG,OAAhB,CAAwBC,SAAxB,CAAoCJ,eAAe,CAACG,OAAhB,CAAwBE,YAA5D,CACD,CAFD,CAEG,CAACT,QAAD,CAFH,EAIA,mBACE,wCACE,WACE,GAAG,CAAEI,eADP,CAEE,SAAS,WAAKR,MAAM,CAACI,QAAZ,aAAwBF,KAAK,CAACY,MAAN,CAAed,MAAM,CAACc,MAAtB,CAA+B,EAAvD,CAFX,UAIGV,QAAQ,CAACW,GAAT,CAAa,SAACC,OAAD,CAAa,CACzB,mBACE,mCACE,qBAAIA,OAAO,CAACC,cAAZ,QADF,cAEE,sBAAOD,OAAO,CAACE,eAAf,EAFF,GAASF,OAAO,CAACG,UAAjB,CADF,CAMD,CAPA,CAJH,EADF,CAcGZ,KAAK,eACJ,KAAC,iBAAD,EACE,MAAM,CAAEL,KAAK,CAACY,MADhB,CAEE,EAAE,CAAEZ,KAAK,CAACkB,EAFZ,CAGE,WAAW,CAAEf,WAHf,EAfJ,GADF,CAwBD,CAjCD,CAmCA,cAAeJ,cAAf"},"metadata":{},"sourceType":"module"}